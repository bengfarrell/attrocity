<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Observable Attributes</title>
    <script type="module">
        import ObservableElement from '../src/observables/element.js';

        /*const observableAttr = new ObservableElement(document.querySelector('div'), function(name, value) {
            console.log('change', name, value);
        }, { watchCurrentKeysOnly: true });

        observableAttr.data.test = 'bye';*/
       // document.querySelector('div').setAttribute('test', 'bye');
        /*setInterval( function() {
            console.log(observableAttr.data)
        }, 1000);*/


        const observableModel = new ObservableElement(document.getElementById('target1'), (name, value, detail) => {
            observableModel.stop();
            console.log(name, 'test');
            console.log(value, 'bye');
            console.log(detail.keyPath, 'test');
        }, { watchSubtree: true });

        console.log(observableModel)
       // document.getElementById('target1').setAttribute('test', 'bye');

       /* setTimeout( function() {
            console.log(observableModel.data.test, 'bye');
        }, 100);*/
    </script>
</head>
<body>
<div id="target1">
    <label><span>R:</span><input parent="textInput.r" type="number" value="0"></label>
    <label><span>G:</span><input parent="textInput.g" type="number" thing="dsfs" value="0"></label>
    <label><span>B:</span><input parent="textInput.b" type="number" value="0"></label>
    <label><span>A:</span><input parent="textInput.a" type="number" value="0"></label>
</div>
</body>
</html>
