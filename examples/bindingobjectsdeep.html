<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Binding Objects</title>

    <script type="module">
        import Bind from '../src/bind.js';
        import ObservableObject from '../src/observables/object.js';

        //Bind.debugMode = true;

        /*const model1 = new ObservableObject( { a: {
                property1: 'test1',
                property2: 'test2',
                property3: 'test3',
                property4: 'test4',
            }}, null, null, 'ObjectA');

        const model2 = new ObservableObject( { a: {
            property1: '',
            property2: '',
            property3: '',
            property4: '',
        }}, null, null, 'ObjectB');


        const bind = new Bind( (name, val, details)  => {
            console.log('binding change', details.scope.name, name, val)
        });
        bind.add(model1);
        bind.add(model2);

        model1.data.a.property1 = 'test5';
        console.log(model1.data);
        console.log(model2.data);*/


        const observableA = new ObservableObject( { deep: { a: 1, b: 2, c: 3}}, null, { name: 'ObjA', watchKeys: ['a', 'b', 'c', 'z', 'x', 'y'] });
        const observableB = new ObservableObject( { deep: { z: 100, x: 101, y: 102 }}, null, { name: 'ObjB', watchKeys: ['a', 'b', 'c', 'z', 'x', 'y'] });
        const binding = new Bind();
        binding.sync(observableA);
        binding.sync(observableB);
        console.log('a', observableA.data.deep.z, 100);
        console.log('a',observableA.data.deep.x, 101);
        console.log('a',observableA.data.deep.y, 102);
        console.log('a',observableA.data.deep.a, 1);
        console.log('a',observableA.data.deep.b, 2);
        console.log('a',observableA.data.deep.c, 3);

        console.log('b', observableB.data.deep.a, 1);
        console.log('b',observableB.data.deep.b, 2);
        console.log('b',observableB.data.deep.c, 3);


        console.log(observableB)
    </script>
</head>
<body>

</body>
</html>
