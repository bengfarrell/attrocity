{"version":3,"file":"attrocity.js","sources":["src/convert.js","src/observables/abstractobservable.js","src/bind.js","src/mapdom.js","src/castingrules.js","src/observables/element.js","src/observables/object.js","src/customelementbindingmanager.js","src/observables/customelement.js","src/main.js"],"sourcesContent":["/**\n * Conversion between Objects, Elements, Attributes, and Strings\n */\nexport default class Convert {\n    /**\n     * default ignore list for attributes\n     * @returns {string[]}\n     */\n    static get ignore() { return [ 'class' ]; };\n\n    /**\n     * default settings for most methods in module\n     * @returns {{allowAllAttributes: boolean, typeConvert: boolean, ignore: *}}\n     */\n    static get defaults() {\n        return {\n            allowAllAttributes: false,\n            typeConvert: true,\n            ignore: this.ignore\n        }\n    };\n\n    /**\n     * object from element attribtues\n     * @param {Object} el element\n     * @param {Object} opts options {\n     *          allowAllAttributes: boolean to allow all attributes to come through, default false\n     *          typeConvert: boolean to allow conversion of numbers from strings\n     *          ignore: Array of attributes to ignore default [class]\n     * @return object/dictionary\n     */\n    static fromAttrs(el, opts) {\n        opts = Object.assign(this.defaults, opts ? opts : {} );\n        const o = {};\n        const attributes = el.attributes;\n        for (let c = 0; c < attributes.length; c++) {\n            if (opts.ignore.indexOf(attributes[c].nodeName) === -1 || opts.allowAllAttributes) {\n                let val = attributes[c].nodeValue;\n                if (!isNaN(parseFloat(val)) && opts.typeConvert) {\n                    val = parseFloat(val);\n                }\n                o[attributes[c].nodeName] = val;\n            }\n        }\n        return o;\n    };\n\n    /**\n     * set attributes of an element sourced from an object\n     * @param {Object} el element to accept object mapping\n     * @param {Object} obj object to map to element\n     * @param {Object} opts options {\n     *          allowAllAttributes: boolean to allow all attributes to come through, default false\n     *          typeConvert: boolean to allow conversion of numbers from strings\n     *          ignore: Array of attributes to ignore default [class]\n     * @returns {*} element\n     */\n    static setAttrs(el, obj, opts) {\n        opts = Object.assign(this.defaults, opts ? opts : {} );\n        if (obj instanceof Element) {\n            obj = this.fromAttrs(obj, opts);\n        }\n        const keys = Object.keys(obj);\n        for (let c = 0; c < keys.length; c++) {\n            if (opts.ignore.indexOf(keys[c]) === -1 || opts.allowAllAttributes) {\n                if (typeof obj[keys[c]] === 'string' || typeof obj[keys[c]] === 'number') {\n                    el.setAttribute(keys[c], obj[keys[c]]);\n                }\n            }\n        }\n        return el;\n    };\n\n    /**\n     * convert to string of attributes (myattr=\"value\" anotherattr=\"value\")\n     * @param {Object} obj simple flat obj or element\n     * @param {Object} opts options {\n     *          allowAllAttributes: boolean to allow all attributes to come through, default false\n     *          typeConvert: boolean to allow conversion of numbers from strings\n     *          ignore: Array of attributes to ignore default [class]\n     * @returns {string}\n     */\n    static toAttrString(obj, opts) {\n        opts = Object.assign(this.defaults, opts ? opts : {} );\n\n        if (obj instanceof Element) {\n            obj = this.fromAttrs(obj, opts);\n        }\n\n        const keys = Object.keys(obj);\n        let str = '';\n        for (let c = 0; c < keys.length; c++) {\n            if (opts.ignore.indexOf(keys[c]) === -1 || opts.allowAllAttributes) {\n                if (typeof obj[keys[c]] === 'string' || typeof obj[keys[c]] === 'number') {\n                    str += keys[c] + '=\"' + obj[keys[c]] + '\" ';\n                }\n            }\n        }\n        return str.trimRight();\n    }\n}\n","import Binding from '../bind.js';\n\nexport default class AbstractObservable {\n    static get WATCH_ANY() { return 'watch-any'; }\n    static get WATCH_CURRENT_ONLY() { return 'watch-current-only'; }\n\n    /**\n     * constructor\n     * @param obj\n     * @param {Function} cb\n     */\n    constructor(obj, cb, watchlist) {\n        this._model = obj;\n        this._id = Symbol();\n        this._name = '';\n        this._callbacks = new Map();\n        this._allowAllKeys = false;\n\n        if (cb) {\n            this._primaryCallback = this.addCallback(cb);\n        }\n\n        if (Array.isArray(watchlist)) {\n            this._keys = watchlist.slice();\n\n        } else {\n            switch(watchlist) {\n                case AbstractObservable.WATCH_ANY:\n                    this._allowAllKeys = true;\n                    break;\n\n                case AbstractObservable.WATCH_CURRENT_ONLY:\n                    if (obj instanceof Element) {\n                        let wl = Array.from(obj.attributes);\n                        this._keys = wl.map( i => { return i.name });\n                    } else {\n                        this._keys = Object.keys(obj);\n                    }\n                    break;\n\n                default:\n                    // default to watch any and all\n                    this._allowAllKeys = true;\n                    break;\n\n            }\n        }\n    }\n\n    /**\n     * getter for isObservable to check if we inherit from this class\n     * @returns {boolean}\n     */\n    get isObservable() { return true; }\n\n    /**\n     * stop observation\n     */\n    stop() {}\n\n    /**\n     * get ID\n     * @returns {symbol | *}\n     */\n    get id() { return this._id; }\n\n    /**\n     * get name\n     * @returns string\n     */\n    get name() { return this._name; }\n\n    /**\n     * set name\n     * @param string\n     */\n    set name(val) { this._name = val; }\n\n    /**\n     * get data\n     * @returns {*}\n     */\n    get data() { return this._model; }\n\n    /**\n     * get allowAllKeys bool\n     * @returns {boolean}\n     */\n    get allowAllKeys() {\n        return this._allowAllKeys;\n    }\n\n    /**\n     * get keys\n     * @returns {string[] | *}\n     */\n    get keys() {\n        if (this._keys) {\n            return this._keys;\n        } else {\n            return Object.keys(this._model);\n        }\n    }\n\n    /**\n     * add callback\n     * @param cb\n     * @param scope\n     * @returns {symbol}\n     */\n    addCallback(cb, scope) {\n        const id = Symbol();\n        this._callbacks.set(id, { callback: cb, scope: scope });\n        return id;\n    }\n\n    /**\n     * remove callback\n     * @param id\n     */\n    removeCallback(id) {\n        if (!id) {\n            id = this._primaryCallback;\n        }\n        this._callbacks.delete(id);\n    }\n\n    /**\n     * dispatch change\n     * @param obj\n     * @param name\n     * @param value\n     * @param oldValue\n     */\n    dispatchChange(name, value, details) {\n        if (value === details.oldValue) { return; }\n        if (!details.originChain) { details.originChain = [details.scope]; }\n        this._callbacks.forEach(cb => {\n            if (details.originChain.indexOf(cb.scope) === -1) {\n                Binding.log({action: 'observablechange', target: cb.scope, source: details.scope, origin: details.originChain, key: name, value: value, old: details.oldValue });\n                cb.callback.apply(this, [name, value, { oldValue: details.oldValue, originChain: details.originChain, scope: details.scope }]);\n            }\n        });\n    }\n\n    _createProxy() {\n        const scope = this;\n        return new Proxy(this._rawdata, {\n            get: function(target, name) {\n                return scope._getKey(name);\n            },\n            set: function(target, prop, value) {\n                scope._setKey(prop, value);\n                return true;\n\n            }\n        });\n    }\n\n    _keyAllowed(key) {\n        return this.allowAllKeys || this.keys.indexOf(key) !== -1;\n    }\n\n    _setRawValue(key, value) {\n        this._rawdata[key] = value;\n    }\n\n    _getRawValue(key) {\n        return this._rawdata[key];\n    }\n\n    _getKey(prop) {\n        if (this._keyAllowed(prop)) {\n            Binding.log({action: 'getvalue', key: prop, source: this });\n            return this._getRawValue(prop);\n        } else {\n            return undefined;\n        }\n    }\n\n    _setKey(prop, value, originchain) {\n        if (!originchain) { originchain = []; }\n        originchain.push(this);\n\n        if (this._keyAllowed(prop)) {\n            const oldvalue = this._getRawValue(prop);\n            this._setRawValue(prop, value);\n\n            Binding.log({action: 'setvalue', key: prop, target: this, origin: originchain });\n\n            if (this._observing) {\n                this.dispatchChange(prop, value, { oldValue: oldvalue, originChain: originchain, scope: this });\n            }\n        }\n    }\n}\n","import AbstractObservable from './observables/abstractobservable.js';\n\nexport default class Binding {\n    static get PUSH() { return 'push'; }\n    static get PULL() { return 'pull'; }\n    static get TWOWAY() { return 'twoway'; }\n\n    /**\n     * constructor\n     */\n    constructor(cb) {\n        this._destinations = new Map();\n        this._sources = new Map();\n        this._namedCallbacks = {};\n        this._aggregateValues = {};\n        this._callbacks = [];\n        this._name = '';\n\n        if (cb) {\n            this.addCallback(cb);\n        }\n    }\n\n    get name() {\n        return this._name;\n    }\n\n    set name(val) {\n        this._name = val;\n    }\n\n    addCallback(cb, name) {\n        if (!name) {\n            this._callbacks.push({ callback: cb  });\n        } else {\n            if (!this._namedCallbacks[name]) {\n                this._namedCallbacks[name] = [];\n            }\n            this._namedCallbacks[name].push({ callback: cb });\n        }\n    }\n\n    /**\n     * add binding\n     * @param {AbstractObservable} obj\n     * @param {String} direction binding direction\n     */\n    add(obj, direction) {\n        direction = direction ? direction : Binding.TWOWAY;\n        this._name += '|' + obj.name + '@' + direction + '|';\n        if (obj.isObservable === false) {\n            console.error('Adding binding for non-observable object', obj);\n            return;\n        }\n\n        Binding.log({action: 'add', target: obj });\n\n        if (!direction || direction === Binding.PUSH || direction === Binding.TWOWAY) {\n            const cbID = obj.addCallback((key, value, details) =>\n                    this._onDataChange(key, value, { oldValue: details.oldValue, originChain: details.originChain, scope: details.scope }), this);\n            this._sources.set(obj.id, { observable: obj, callback: cbID });\n        }\n        if (!direction || direction === Binding.PULL || direction === Binding.TWOWAY) {\n            this._destinations.set(obj.id, { observable: obj });\n        }\n    }\n\n    /**\n     * sync current values and add binding\n     * @param {AbstractObservable} obj\n     * @param {String} direction binding direction\n     */\n    sync(obj, direction) {\n        this.add(obj, direction);\n        if (!direction || direction === Binding.PUSH || direction === Binding.TWOWAY) {\n            this.pushAllValues(obj)\n        }\n\n        if (!direction || direction === Binding.PULL || direction === Binding.TWOWAY) {\n            this.pullAllValues(obj);\n        }\n\n    }\n\n    pushAllValues(src) {\n        for (let c = 0; c < src.keys.length; c++) {\n            if (src.data[src.keys[c]] !== undefined) {\n                this._onDataChange(src.keys[c], src.data[src.keys[c]], { scope: src });\n            }\n        }\n    }\n\n    pullAllValues(dest) {\n        for (let c in this._aggregateValues) {\n            if (this._aggregateValues[c] !== undefined) {\n                Binding.log({action: 'pull', target: dest, source: this });\n                dest.data[c] = this._aggregateValues[c];\n            }\n        }\n    }\n\n    /**\n     * remove binding for object\n     * @param {AbstractObservable} obj\n     */\n    remove(obj) {\n        const src = this._sources.get(obj.id);\n        src.observable.removeCallback(src.callback);\n        this._destinations.delete(obj.id);\n        this._sources.delete(obj.id);\n    }\n\n    /**\n     * on data changed from source\n     * @param {AbstractObservable} obj\n     * @param {String} key name of changed attribute\n     * @param value value of changed attribute\n     * @private\n     */\n    _onDataChange(key, value, details) {\n        if (!details.originChain) { details.originChain = []; }\n        details.originChain.push(this);\n\n        this._aggregateValues[key] = value;\n        for (const dest of this._destinations.entries()){\n            if (details.scope.id !== dest[1].observable.id && details.originChain.indexOf(dest[1].observable) === -1) {\n                Binding.log({action: 'push', source: this, target: dest[1].observable, origin: details.originChain });\n                dest[1].observable._setKey(key, value, details.originChain);\n            }\n        }\n\n        for (let c = 0; c < this._callbacks.length; c++) {\n            if (!this._callbacks[c].scope || details.originChain.indexOf(this._callbacks[c].scope) === -1) {\n                Binding.log({action: 'bindingchange', source: details.scope, target: this._callbacks[c].scope, origin: details.originChain });\n                this._callbacks[c].callback.apply(this, [key, value, { oldValue: details.oldValue, originChain: details.originChain, scope: details.scope }]);\n            }\n        }\n\n        if (this._namedCallbacks[key]) {\n            for (let c = 0; c < this._namedCallbacks[key].length; c++) {\n                if (!this._namedCallbacks[key][c].scope || details.originChain.indexOf(this._namedCallbacks[key][c].scope) === -1) {\n                    Binding.log({action: 'bindingchange', source: this, target: this._namedCallbacks[key][c].scope, origin: details.originChain });\n                    this._namedCallbacks[key][c].callback.apply(this, [key, value, { oldValue: details.oldValue, originChain: details.originChain, scope: details.scope }]);\n                }\n            }\n\n        }\n    }\n\n    static log(o) {\n        if (Binding.debugMode || this.debugMode) {\n            console.log('----------');\n            console.log('* ' + o.action);\n\n            let src, dest;\n            if (o.source) { src = o.source.name; }\n            if (o.target) { dest = o.target.name; }\n            if (src === undefined) { src = ''; }\n            if (dest === undefined) { dest = ''; }\n            if (src || dest) {\n                console.log(src + ' -> ' + dest);\n            }\n\n            if (o.origin && o.origin.length > 0) {\n                console.log('origins:', o.origin.map( i => { return i.name } ).join(','))\n            }\n\n            if (o.key) {        console.log( ' - key -       :', o.key )}\n            if (o.value) {      console.log( ' - value -     :', o.value )}\n            if (o.oldValue) {   console.log( ' - old value - :', o.value )}\n        }\n    }\n\n}\n","export default class MapDOM {\n    /**\n     * defaults\n     * @returns {{attribute: string, root: string}}\n     */\n    static get mapdefaults() {\n        return {\n            attribute: 'map',\n            root: 'maproot'\n        }\n    };\n\n    /**\n     * defaults\n     * @returns {{attribute: string, root: string}}\n     */\n    static get wiredefaults() {\n        return {\n            attribute: 'wire',\n            root: 'maproot'\n        }\n    };\n\n    /**\n     * generate attribute selector for query selection\n     * @param name\n     * @returns {string}\n     */\n    static _attributeSelector(name) { return '[' + name + ']'; };\n\n    /**\n     * map dom elements with desired attribute to object\n     * @param node\n     * @param startingObj\n     * @param opts\n     */\n    static map(node, startingObj, opts) {\n        opts = Object.assign(this.mapdefaults, opts ? opts : {} );\n        const selector = this._attributeSelector(opts.attribute);\n\n        let domcache = startingObj ? startingObj : {};\n        let els = node.querySelectorAll(selector);\n        let rootlevelEls = node.querySelectorAll(this._attributeSelector(opts.root));\n\n        els = this._filterElementsContainedByRoot(els, rootlevelEls);\n\n        for (let e = 0; e < els.length; e++) {\n            let path = els[e].getAttribute(opts.attribute).split('.');\n            const prop = path.pop();\n            const deepref = this._ensurePropertyPath(domcache, path);\n            this._setProperty(deepref, prop, els[e]);\n\n        }\n        return domcache;\n    };\n\n    static wire(node, callback, scope, opts) {\n        opts = Object.assign(this.wiredefaults, opts ? opts : {} );\n        const selector = this._attributeSelector(opts.attribute);\n        let els = node.querySelectorAll(selector);\n        let rootlevelEls = node.querySelectorAll(this._attributeSelector(opts.root));\n\n        els = this._filterElementsContainedByRoot(els, rootlevelEls);\n        for (let e = 0; e < els.length; e++) {\n            const eventtype = els[e].getAttribute(opts.attribute);\n            els[e].addEventListener(eventtype, e => { callback.apply(scope, [e]) });\n        }\n    }\n\n    /**\n     * ensure deep or shallow path exists on object\n     * @param obj\n     * @param propslist\n     * @return deep reference\n     */\n    static _ensurePropertyPath(obj, propslist) {\n        propslist = propslist.reverse();\n        let parent;\n        let parentProp;\n        while (propslist.length > 0) {\n            const prop = propslist.pop();\n            if (!obj[prop]) {\n                obj[prop] = {};\n            }\n            parent = obj;\n            obj = obj[prop];\n            parentProp = prop;\n        }\n        return { current: obj, parent: parent, parentProp: parentProp };\n    }\n\n    /**\n     * set property on object\n     * @param obj\n     * @param prop\n     * @param val\n     * @private\n     */\n    static _setProperty(obj, prop, val) {\n        let ref = obj.current;\n        let parent = obj.parent;\n        let parentProp = obj.parentProp;\n        if (!ref[prop]) {\n            // element already set on prop, but we're adding more key/values to it as an object\n            // roll back to parent and set object that can hold all\n            if (ref instanceof Element) {\n                parent[parentProp] = {};\n                parent[parentProp][parentProp] = ref;\n                parent[parentProp][prop] = val;\n            } else {\n                ref[prop] = val;\n            }\n        } else if (ref[prop] instanceof Element) {\n            // element already exists on key, turn into array holding list\n            ref[prop] = [ ref[prop] ];\n            ref[prop].push(val);\n        } else if (Array.isArray(ref[prop])) {\n            ref[prop].push(val);\n        } else if (Object.keys(ref[prop]).length > 0) {\n            // key being set is already an object containing keys, bump this key further down the chain\n            ref[prop][prop] = val;\n        }\n    }\n\n    /**\n     * remove elements contained by marked roots\n     * @param els\n     * @param roots\n     * @returns {Array}\n     */\n    static _filterElementsContainedByRoot(els, roots) {\n        const nondeepEls = [];\n        for (let e = 0; e < els.length; e++) {\n            let elIsContainedByRoot = false;\n            for (let d = 0; d < roots.length; d++) {\n                if (roots[d] !== els[e] && roots[d].contains(els[e])) {\n                    elIsContainedByRoot = true;\n                }\n            }\n            if (!elIsContainedByRoot) {\n                nondeepEls.push(els[e]);\n            }\n        }\n        return nondeepEls;\n    }\n}\n","export default class CastingRules {\n    static defaultRule(value) {\n        if (value === 'true') { return true; }\n        if (value === 'false') { return false; }\n        if (typeof value === 'boolean') { return value; }\n        if (!isNaN(Number(value))) { return Number(value); }\n        return value;\n    }\n\n    constructor() {\n        this._rules = new Map();\n        this._rules.set('*', [ CastingRules.defaultRule ]);\n\n    }\n\n    addRule(key, rule) {\n        if (key === '*') {\n            this._rules.get(key).push(rule);\n        } else if (Array.isArray(key)) {\n            for (let c = 0; c < key.length; c++) {\n                this.addRule(key[c], rule );\n            }\n        } else {\n            this._rules.set(key, rule);\n        }\n    }\n\n    cast(key, value) {\n        let val = value;\n        const genericRules = this._rules.get('*');\n        for (let c = 0; c < genericRules.length; c++) {\n            val = genericRules[c](val);\n        }\n\n        if (this._rules.has(key)) {\n            return this._rules.get(key)(val);\n        } else {\n            return val;\n        }\n    }\n\n}","import AbstractObservable from \"./abstractobservable.js\";\nimport Binding from \"../bind.js\";\n\nexport default class ObservableElement extends AbstractObservable {\n    /**\n     * constructor\n     * @param {HTMLElement} el element to watch\n     * @param {Function} cb callback\n     * @param {Array} watchlist list of attributes to watch on element (if null, watch them all)\n     */\n    constructor(el, cb, watchlist) {\n        super(el, cb, watchlist);\n        this.observer = new MutationObserver(e => this.onMutationChange(e));\n        this.observer.observe(el, { attributes: true, attributeOldValue: true });\n\n        this._rawdata = el;\n        this.name = el.tagName;\n\n        this._model = this._createProxy();\n    }\n\n    _setRawValue(key, value) {\n        this._rawdata.setAttribute(key, value);\n    }\n\n    _getRawValue(key) {\n        if (this._rawdata.getAttribute(key)) {\n            return this._rawdata.getAttribute(key);\n        } else {\n            return undefined;\n        }\n    }\n\n    /**\n     * stop observation\n     */\n    stop() {\n        this.observer.disconnect();\n    }\n\n    /**\n     * mutation change handler\n     * @param e\n     */\n    onMutationChange(e) {\n        for (let c = 0; c < e.length; c++) {\n            if (this.keys.length === 0 || this.keys.indexOf(e[c].attributeName) !== -1) {\n                this.dispatchChange(\n                    e[c].attributeName,\n                    e[c].target.getAttribute(e[c].attributeName),\n                    { oldValue: e[c].oldValue, originChain: [this], scope: e[c].target });\n            }\n        }\n    }\n}\n","import AbstractObservable from \"./abstractobservable.js\";\nimport Binding from '../bind.js';\n\nexport default class ObservableObject extends AbstractObservable {\n    /**\n     * constructor\n     * @param {Object} object to watch\n     * @param {Function} cb callback\n     * @param {Array | String} watchlist list of attributes to watch on element (if null, watch them all)\n     */\n    constructor(obj, cb, watchlist, name) {\n        super(obj, cb, watchlist);\n        if (name) { this._name = name; }\n        this._rawdata = obj;\n        this._model = this._createProxy();\n        this._observing = true;\n    }\n\n    /**\n     * stop observation\n     */\n    stop() {\n        this._observing = false;\n    }\n\n    /**\n     * get data\n     * @returns {*}\n     */\n    get data() {\n        return this._model;\n    }\n}\n","import Binding from './bind.js';\nimport CastingRules from './castingrules.js';\n\nexport default class CustomElementBindingManager {\n    constructor() {\n        this._observables = {};\n        this._binding = new Binding();\n        this._rules = new CastingRules();\n        this._name = ['CustomElementBindingManager'];\n    }\n\n    get binding() {\n        return this._binding;\n    }\n\n    get castingRules() {\n        return this._rules;\n    }\n\n    get name() {\n        return this._name.join('*');\n    }\n\n    addRule(key, rule) {\n        this._rules.addRule(key, rule);\n    }\n\n    addCallback(cb, name) {\n        if (!name) {\n            this.binding.addCallback((name, value, details) => {\n                if (!details.originChain) {\n                    details.originChain = [];\n                }\n                details.originChain.push(this);\n                cb(name, this._rules.cast(name, value), { oldValue: details.oldvalue, originChain: details.originChain, scope: details.scope });\n            });\n        } else {\n            this.binding.addCallback((name, value, details) => {\n                if (!details.originChain) {\n                    details.originChain = [];\n                }\n                details.originChain.push(this);\n                cb(name, this._rules.cast(name, value), { oldValue: details.oldvalue, originChain: details.originChain, scope: details.scope });\n            }, name);\n        }\n    }\n\n    add(observable, bindingdirection, name) {\n        if (!name) {\n            name = observable.constructor.name;\n        }\n        this._observables[name] = observable;\n        this._binding.add(observable, bindingdirection);\n        this._name.push(observable.name);\n        return this._binding;\n    }\n\n    sync(observable, bindingdirection, name) {\n        if (!name) {\n            name = observable.constructor.name;\n        }\n        this._observables[name] = observable;\n        this._binding.sync(observable, bindingdirection);\n        this._name.push(observable.name);\n        return this._binding;\n    }\n\n    getObservable(name) {\n        return this._observables[name];\n    }\n}\n","import AbstractObservable from './abstractobservable.js';\nimport CustomElementBindingManager from '../customelementbindingmanager.js';\nimport Binding from '../bind.js';\n\nexport default class ObservableCustomElement extends AbstractObservable {\n    /**\n     * attach class to web component as a mixin\n     * @param clazz\n     * @returns {*}\n     */\n    static attach(clazz) {\n        clazz.prototype.attributeChangedCallback = function (name, oldValue, newValue) {\n            if (this.__attrocity) {\n                let originchain = [];\n                if (this.__attrocity.originChainContinuity) {\n                    originchain = this.__attrocity.originChainContinuity;\n                }\n                this.__attrocity.originChainContinuity = [];\n                if (!this.__attrocity.getObservable('customelement')._observing ) { return; }\n                const ce = this.__attrocity.getObservable('customelement');\n                ce.dispatchChange(name, newValue, { oldValue: oldValue, originChain: originchain, scope: ce });\n            }\n        };\n        return clazz;\n    }\n\n    /**\n     * create bindings on instance\n     * @param scope\n     * @param opts\n     * @returns {CustomElementBindingManager}\n     */\n    static createBindings(scope, opts) {\n        scope.__attrocity = new CustomElementBindingManager();\n        scope.__attrocity.sync(new ObservableCustomElement(scope,\n            (name, val, { oldValue: old, originChain: originchain, scope: o }) => { scope.__attrocity.originChainContinuity = originchain },\n            scope.constructor.observedAttributes),\n            Binding.TWOWAY, 'customelement');\n        return scope.__attrocity;\n    }\n\n\n    /**\n     * constructor\n     * @param {HTMLElement} el element to watch\n     * @param {Function} cb callback\n     */\n    constructor(el, cb) {\n        super(el, cb, el.constructor.observedAttributes);\n\n        this._observing = true;\n\n        this._rawdata = el;\n        this.name = el.tagName;\n\n        const scope = this;\n        this._model = this._createProxy();\n\n    }\n\n    _setRawValue(key, value) {\n        this._rawdata.setAttribute(key, value);\n    }\n\n    _getRawValue(key) {\n        if (this._rawdata.getAttribute(key)) {\n            return this._rawdata.getAttribute(key);\n        } else {\n            return undefined;\n        }\n    }\n\n    _setKey(prop, value, originchain) {\n        if (!originchain) { originchain = []; }\n        originchain.push(this);\n\n        if (this._keyAllowed(prop)) {\n            const oldvalue = this._getRawValue(prop);\n            this._setRawValue(prop, value);\n\n            Binding.log({action: 'setvalue', key: prop, target: this, origin: originchain });\n        }\n    }\n\n    /**\n     * stop observation\n     */\n    stop() {\n        this._observing = false;\n    }\n}\n","import Convert from './convert.js';\nimport Bind from './bind.js';\nimport MapDOM from './mapdom.js';\nimport CastingRules from './castingrules.js';\nimport ObservableElement from './observables/element.js';\nimport ObservableObject from './observables/object.js';\nimport ObservableCustomElement from './observables/customelement.js';\n\nexport default class Main {\n    /**\n     * Bind\n     * @returns {Convert}\n     * @constructor\n     */\n    static get Bind() { return Bind; }\n\n    /**\n     * Convert\n     * @returns {Convert}\n     * @constructor\n     */\n    static get Convert() { return Convert; }\n\n    /**\n     * MapDOM\n     * @returns {MapDOM}\n     * @constructor\n     */\n    static get MapDOM() { return MapDOM; }\n\n    /**\n     * Casting\n     * @returns {CastingRules}\n     * @constructor\n     */\n    static get CastingRules() { return CastingRules; }\n\n    /**\n     * Observables\n     * @returns {{Element: ObservableElement, Object: ObservableObject}}\n     * @constructor\n     */\n    static get Observables() {\n        return {\n            Element: ObservableElement,\n            CustomElement: ObservableCustomElement,\n            Object: ObservableObject\n        }\n    }\n}\n"],"names":["Bind"],"mappings":"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"}