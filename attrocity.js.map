{"version":3,"file":"attrocity.js","sources":["src/convert.js","src/dotpath.js","src/observables/abstractobservable.js","src/bind.js","src/mapdom.js","src/castingrules.js","src/observables/element.js","src/observables/object.js","src/customelementbindingmanager.js","src/observables/customelement.js","src/main.js"],"sourcesContent":["/**\n * Conversion between Objects, Elements, Attributes, and Strings\n */\nexport default class Convert {\n    /**\n     * default ignore list for attributes\n     * @returns {string[]}\n     */\n    static get ignore() { return [ 'class' ]; };\n\n    /**\n     * default settings for most methods in module\n     * @returns {{allowAllAttributes: boolean, typeConvert: boolean, ignore: *}}\n     */\n    static get defaults() {\n        return {\n            allowAllAttributes: false,\n            typeConvert: true,\n            ignore: this.ignore,\n            allow: []\n        }\n    };\n\n    /**\n     * object from element attribtues\n     * @param {Object} el element\n     * @param {Object} opts options {\n     *          allowAllAttributes: boolean to allow all attributes to come through, default false\n     *          typeConvert: boolean to allow conversion of numbers from strings\n     *          ignore: Array of attributes to ignore default [class]\n     * @return object/dictionary\n     */\n    static fromAttrs(el, opts) {\n        opts = Object.assign(this.defaults, opts ? opts : {} );\n        if (opts.allow.length > 0) { opts.ignore = []; }\n\n        const o = {};\n        const attributes = el.attributes;\n        for (let c = 0; c < attributes.length; c++) {\n            let allowKey = false;\n            if (opts.ignore.length > 0 && (opts.ignore.indexOf(attributes[c].nodeName) === -1 || opts.allowAllAttributes)) {\n                allowKey = true;\n            } else if (opts.allow.length > 0 && opts.allow.indexOf(attributes[c].nodeName) !== -1) {\n                allowKey = true;\n            }\n\n            if (allowKey) {\n                let val = attributes[c].nodeValue;\n                if (!isNaN(parseFloat(val)) && opts.typeConvert) {\n                    val = parseFloat(val);\n                }\n                o[attributes[c].nodeName] = val;\n            }\n        }\n        return o;\n    };\n\n    /**\n     * set attributes of an element sourced from an object\n     * @param {Object} el element to accept object mapping\n     * @param {Object} obj object to map to element\n     * @param {Object} opts options {\n     *          allowAllAttributes: boolean to allow all attributes to come through, default false\n     *          typeConvert: boolean to allow conversion of numbers from strings\n     *          ignore: Array of attributes to ignore default [class]\n     * @returns {*} element\n     */\n    static setAttrs(el, obj, opts) {\n        opts = Object.assign(this.defaults, opts ? opts : {} );\n        if (obj instanceof Element) {\n            obj = this.fromAttrs(obj, opts);\n        }\n        const keys = Object.keys(obj);\n        for (let c = 0; c < keys.length; c++) {\n            if (opts.ignore.indexOf(keys[c]) === -1 || opts.allowAllAttributes) {\n                if (typeof obj[keys[c]] === 'string' || typeof obj[keys[c]] === 'number') {\n                    el.setAttribute(keys[c], obj[keys[c]]);\n                }\n            }\n        }\n        return el;\n    };\n\n    /**\n     * convert to string of attributes (myattr=\"value\" anotherattr=\"value\")\n     * @param {Object} obj simple flat obj or element\n     * @param {Object} opts options {\n     *          allowAllAttributes: boolean to allow all attributes to come through, default false\n     *          typeConvert: boolean to allow conversion of numbers from strings\n     *          ignore: Array of attributes to ignore default [class]\n     * @returns {string}\n     */\n    static toAttrString(obj, opts) {\n        opts = Object.assign(this.defaults, opts ? opts : {} );\n\n        if (obj instanceof Element) {\n            obj = this.fromAttrs(obj, opts);\n        }\n\n        const keys = Object.keys(obj);\n        let str = '';\n        for (let c = 0; c < keys.length; c++) {\n            if (opts.ignore.indexOf(keys[c]) === -1 || opts.allowAllAttributes) {\n                if (typeof obj[keys[c]] === 'string' || typeof obj[keys[c]] === 'number') {\n                    str += keys[c] + '=\"' + obj[keys[c]] + '\" ';\n                }\n            }\n        }\n        return str.trimRight();\n    }\n}\n","/**\n * Conversion between Dot path notation and objects\n */\nexport default class DotPath {\n    static getKeysAtLevel(level) {\n        return Object.keys(level);\n    }\n\n    /**\n     * level has children\n     * @param level\n     */\n    static isParent(level) {\n        if (typeof level === 'object') {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * is a key/value pair and not a parent\n     * @param level\n     * @returns {boolean}\n     */\n    static isValue(level) {\n        if (typeof level !== 'object' || level === null) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    static appendKeyToPath(path, key) {\n        let p = path + '.' + key;\n        if (p.charAt(0) === '.') {\n            p = p.substr(1, p.length);\n        }\n        return p;\n    }\n\n    static toPath(root, target) {\n        return DotPath.toPathArray(root, target).join('.');\n    }\n\n    /**\n     * get dot path notation from object\n     * @param root\n     * @param target\n     * @param dotpath\n     * @returns {*}\n     */\n    static toPathArray(root, target, path) {\n        if (path === undefined) {\n            path = [];\n        }\n        if (root === target) {\n            return path;\n        }\n        const keys = DotPath.getKeysAtLevel(root);\n        for (let key in keys) {\n            const k = keys[key];\n            if (DotPath.isParent(root[k])) {\n                const p = DotPath.toPathArray(root[k], target, [k]);\n                if (p) {\n                    return path.concat(DotPath.toPathArray(root[k], target, [k]));\n                }\n            } else if (root[k] === target) {\n                return path.concat([k]);\n            }\n        }\n    }\n\n    /**\n     * resolve dot path from object\n     * Adapted from:\n     * Credit: https://stackoverflow.com/questions/6491463/accessing-nested-javascript-objects-with-string-key\n     * https://stackoverflow.com/users/6782/alnitak\n     * @param s\n     * @param o\n     * @param {boolean} objects only\n     * @returns {*}\n     */\n    static resolvePath(s, o, opts) {\n        if (!opts) { opts = {}; }\n        if (s === '') { return o; }\n        s = s.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\n        s = s.replace(/^\\./, '');           // strip a leading dot\n        var a = s.split('.');\n        for (var i = 0, n = a.length; i < n; ++i) {\n            var k = a[i];\n            if (DotPath.isParent(o) && k in o) {\n                if (opts.alwaysReturnObject && DotPath.isValue(o[k])) {\n                    //nothing\n                } else {\n                    o = o[k];\n                }\n            } else if (DotPath.isParent(o)) { // o is not in k, create the object\n                // exit at current level, we got this far and it only can lead here\n                if (i === n-1 && !opts.lastSegmentIsObject) {\n                    // end of the line, we didn't find the last path seg, just return so far\n                    return o;\n                } else {\n                    o[k] = {}; // keep going, we didn't find this path seg, so need to create\n                    o = o[k];\n                }\n            }\n        }\n        return o;\n    }\n}\n","import DotPath from '../dotpath.js';\n\nexport default class AbstractObservable {\n    /**\n     * constructor\n     * @param obj\n     * @param {Function} cb\n     * @param options\n     */\n    constructor(obj, cb, opts) {\n        this._tree = new Map();\n        this._model = obj;\n        this._id = Symbol();\n        this._name = '';\n        this._callbacks = new Map();\n        this._observing = true;\n\n        if (cb) {\n            this._primaryCallback = this.addCallback(cb, this);\n        }\n\n        if (opts) {\n            if (Array.isArray(opts.watchKeys)) {\n                this._keys = opts.watchKeys.slice();\n            } else if (opts.watchCurrentKeysOnly) {\n                this._allowCurrentKeysOnly = true;\n            } else {\n                this._allowAllKeys = true;\n            }\n        } else {\n            this._allowAllKeys = true;\n        }\n    }\n\n    /**\n     * getter for isObservable to check if we inherit from this class\n     * @returns {boolean}\n     */\n    get isObservable() { return true; }\n\n    /**\n     * stop observation\n     */\n    stop() {}\n\n    /**\n     * get ID\n     * @returns {symbol | *}\n     */\n    get id() { return this._id; }\n\n    /**\n     * get name\n     * @returns string\n     */\n    get name() { return this._name; }\n\n    /**\n     * set name\n     * @param string\n     */\n    set name(val) { this._name = val; }\n\n    /**\n     * get data\n     * @returns {*}\n     */\n    get data() {\n        return this._tree.get(this._rawdata);\n    }\n\n    /**\n     * get allowAllKeys bool\n     * @returns {boolean}\n     */\n    get allowAllKeys() {\n        return this._allowAllKeys;\n    }\n\n    /**\n     * add callback\n     * @param cb\n     * @param scope\n     * @returns {symbol}\n     */\n    addCallback(cb, scope) {\n        const id = Symbol();\n        this._callbacks.set(id, { callback: cb, scope: scope });\n        return id;\n    }\n\n    /**\n     * remove callback\n     * @param id\n     */\n    removeCallback(id) {\n        if (!id) {\n            id = this._primaryCallback;\n        }\n        this._callbacks.delete(id);\n    }\n\n    /**\n     * dispatch change\n     * @param obj\n     * @param name\n     * @param value\n     * @param oldValue\n     */\n    dispatchChange(name, value, details) {\n        if (value === details.oldValue) { return; }\n        if (!details.originChain) { details.originChain = [details.scope]; }\n        this._callbacks.forEach(cb => {\n            // if this observable wasn't part of the origin chain or it directly occured then allow callback\n            if (details.originChain.indexOf(cb.scope) === -1 || details.originChain.length === 1) {\n                cb.callback.apply(this, [ name, value, {\n                    observable: this,\n                    target: details.target,\n                    keyPath: details.keyPath,\n                    key: name,\n                    value: value,\n                    oldValue: details.oldValue,\n                    originChain: details.originChain,\n                    scope: details.scope }]);\n            }\n        });\n    }\n\n    _createProxy() {\n        const scope = this;\n        this._tree.set(this._rawdata, new Proxy(this._rawdata, this.validator));\n    }\n\n    _keyAllowed(key, target) {\n        return this.allowAllKeys || (this._keys && this._keys.indexOf(key) !== -1) || (this._allowCurrentKeysOnly && target[key] !== undefined);\n    }\n\n    _setRawValue(target, key, value) {\n        target[key] = value;\n    }\n\n    _getRawValue(target, key) {\n        return target[key];\n    }\n\n    _getKey(target, key) {\n        if (this._keyAllowed(key, target)) {\n            return this._getRawValue(target, key);\n        } else {\n            return undefined;\n        }\n    }\n\n    _setKey(target, prop, value, originchain) {\n        if (!originchain) { originchain = []; }\n        originchain.push(this);\n\n        if (typeof target === 'string') {\n            target = DotPath.resolvePath(target, this._rawdata, { alwaysReturnObject: true });\n        }\n\n        if (this._keyAllowed(prop, target)) {\n            const oldvalue = this._getRawValue(target, prop);\n            this._setRawValue(target, prop, value);\n            if (this._observing) {\n                this.dispatchChange(prop, value, {\n                    oldValue: oldvalue,\n                    originChain: originchain,\n                    scope: this,\n                    key: prop,\n                    get keyPath() {\n                        let dotpath = prop;\n                        if (target !== this.scope._rawdata) {\n                            dotpath = DotPath.toPath(this.scope._rawdata, target) + '.' + prop;\n                        }\n                        return dotpath;\n                    },\n                    value: value,\n                    target: target });\n            }\n        }\n    }\n\n    get validator() {\n        const scope = this;\n        return {\n            get: function(target, key) {\n                if (typeof target[key] === 'object' && target[key] !== null) {\n                    if (!scope._tree.has(target[key])) {\n                        scope._tree.set(target[key], new Proxy(target[key], scope.validator));\n                    }\n                    return scope._tree.get(target[key]);\n                } else {\n                    return scope._getKey(target, key);\n                }\n            },\n            set: function(target, prop, value) {\n                scope._setKey(target, prop, value);\n                return true;\n\n            }\n        };\n    }\n}\n","import AbstractObservable from './observables/abstractobservable.js';\nimport DotPath from './dotpath.js';\n\nexport default class Binding {\n    static get PUSH() { return 'push'; }\n    static get PULL() { return 'pull'; }\n    static get TWOWAY() { return 'twoway'; }\n\n    /**\n     * constructor\n     */\n    constructor(cb) {\n        this._destinations = new Map();\n        this._sources = new Map();\n        this._namedCallbacks = {};\n        this._aggregateValues = {};\n        this._callbacks = [];\n        this._name = '';\n\n        if (cb) {\n            this.addCallback(cb);\n        }\n    }\n\n    get name() {\n        return this._name;\n    }\n\n    set name(val) {\n        this._name = val;\n    }\n\n    addCallback(cb, name) {\n        if (!name) {\n            this._callbacks.push({ callback: cb  });\n        } else {\n            if (!Array.isArray(name)) {\n                name = [name];\n            }\n\n            for (let c = 0; c < name.length; c++) {\n                if (!this._namedCallbacks[name[c]]) {\n                    this._namedCallbacks[name[c]] = [];\n                }\n                this._namedCallbacks[name[c]].push({ callback: cb });\n            }\n        }\n    }\n\n    /**\n     * add binding\n     * @param {AbstractObservable} obj\n     * @param {String} direction binding direction\n     */\n    add(obj, direction) {\n        direction = direction ? direction : Binding.TWOWAY;\n        this._name += '|' + obj.name + '@' + direction + '|';\n        if (obj.isObservable === false) {\n            console.error('Adding binding for non-observable object', obj);\n            return;\n        }\n\n        if (!direction || direction === Binding.PUSH || direction === Binding.TWOWAY) {\n            const cbID = obj.addCallback((key, value, details) =>\n                    this._onDataChange(key, value, details), this);\n            this._sources.set(obj.id, { observable: obj, callback: cbID });\n        }\n        if (!direction || direction === Binding.PULL || direction === Binding.TWOWAY) {\n            this._destinations.set(obj.id, { observable: obj });\n        }\n    }\n\n    /**\n     * sync current values and add binding\n     * @param {AbstractObservable} obj\n     * @param {String} direction binding direction\n     */\n    sync(obj, direction) {\n        this.add(obj, direction);\n        if (!direction || direction === Binding.PUSH || direction === Binding.TWOWAY) {\n            this.pushAllValues(obj);\n        }\n\n        if (!direction || direction === Binding.PULL || direction === Binding.TWOWAY) {\n            this.pullAllValues(obj.data);\n        }\n\n    }\n\n    /**\n     * recursively iterate through source and dispatch changes for each value\n     * as though it were changed live\n     * @param src\n     * @param level\n     */\n    pushAllValues(src, level, path) {\n        if (!level) {\n            level = src.data;\n        }\n        if (!path) {\n            path = '';\n        }\n\n        const keys = DotPath.getKeysAtLevel(level);\n        for (let key in keys) {\n            const k = keys[key];\n            if (level[k] !== undefined) {\n                // is a simple key/val pair, report value\n                if (DotPath.isValue(level[k])) {\n                    let kpath = DotPath.appendKeyToPath(path, k);\n                    this._onDataChange(k, level[k], {scope: src, keyPath: kpath});\n                }\n\n                if (DotPath.isParent(level[k])) {\n                    this.pushAllValues(src, level[k], path + '.' + k);\n                }\n            }\n        }\n    }\n\n\n    /**\n     * recursively iterate through aggregate values on each model\n     * and change on destination as though it were changed live\n     * @param src\n     * @param level\n     */\n    pullAllValues(nesteddest, level) {\n        if (!level) {\n            level = this._aggregateValues;\n        }\n\n        const keys = DotPath.getKeysAtLevel(level);\n        for (let key in keys) {\n            const k = keys[key];\n            if (level[k] !== undefined) {\n                if (DotPath.isValue(nesteddest[k])) {\n                    nesteddest[k] = level[k];\n                } else  if (DotPath.isParent(nesteddest[k])) {\n                    this.pullAllValues(nesteddest[k], level[k]);\n                }\n            }\n        }\n    }\n\n    /**\n     * remove binding for object\n     * @param {AbstractObservable} obj\n     */\n    remove(obj) {\n        const src = this._sources.get(obj.id);\n        src.observable.removeCallback(src.callback);\n        this._destinations.delete(obj.id);\n        this._sources.delete(obj.id);\n    }\n\n    /**\n     * on data changed from source\n     * @param {AbstractObservable} obj\n     * @param {String} key name of changed attribute\n     * @param value value of changed attribute\n     * @private\n     */\n    _onDataChange(key, value, details) {\n        if (!details.originChain) { details.originChain = []; }\n        details.originChain.push(this);\n\n        let valueTarget = DotPath.resolvePath(details.keyPath, this._aggregateValues, { alwaysReturnObject: true });\n        valueTarget[key] = value;\n\n        for (const dest of this._destinations.entries()){\n            if (details.scope.id !== dest[1].observable.id && details.originChain.indexOf(dest[1].observable) === -1) {\n                dest[1].observable._setKey(details.keyPath, key, value, details.originChain);\n            }\n        }\n\n        for (let c = 0; c < this._callbacks.length; c++) {\n            if (!this._callbacks[c].scope || details.originChain.indexOf(this._callbacks[c].scope) === -1) {\n                this._callbacks[c].callback.apply(this, [key, value, { oldValue: details.oldValue, originChain: details.originChain, scope: details.scope }]);\n            }\n        }\n\n        if (this._namedCallbacks[key]) {\n            for (let c = 0; c < this._namedCallbacks[key].length; c++) {\n                if (!this._namedCallbacks[key][c].scope || details.originChain.indexOf(this._namedCallbacks[key][c].scope) === -1) {\n                    this._namedCallbacks[key][c].callback.apply(this, [key, value, { oldValue: details.oldValue, originChain: details.originChain, scope: details.scope }]);\n                }\n            }\n\n        }\n    }\n}\n","export default class MapDOM {\n    /**\n     * defaults\n     * @returns {{attribute: string, root: string}}\n     */\n    static get mapdefaults() {\n        return {\n            attribute: 'map',\n            root: 'maproot'\n        }\n    };\n\n    /**\n     * defaults\n     * @returns {{attribute: string, root: string}}\n     */\n    static get wiredefaults() {\n        return {\n            attribute: 'wire',\n            root: 'maproot'\n        }\n    };\n\n    /**\n     * generate attribute selector for query selection\n     * @param name\n     * @returns {string}\n     */\n    static _attributeSelector(name) { return '[' + name + ']'; };\n\n    /**\n     * map dom elements with desired attribute to object\n     * @param node\n     * @param startingObj\n     * @param opts\n     */\n    static map(node, startingObj, opts) {\n        opts = Object.assign(this.mapdefaults, opts ? opts : {} );\n        const selector = this._attributeSelector(opts.attribute);\n\n        let domcache = startingObj ? startingObj : {};\n        let els = node.querySelectorAll(selector);\n        let rootlevelEls = node.querySelectorAll(this._attributeSelector(opts.root));\n\n        els = this._filterElementsContainedByRoot(els, rootlevelEls);\n\n        for (let e = 0; e < els.length; e++) {\n            let path = els[e].getAttribute(opts.attribute).split('.');\n            const prop = path.pop();\n            const deepref = this._ensurePropertyPath(domcache, path);\n            this._setProperty(deepref, prop, els[e]);\n\n        }\n        return domcache;\n    };\n\n    static wire(node, callback, scope, opts) {\n        opts = Object.assign(this.wiredefaults, opts ? opts : {} );\n        const selector = this._attributeSelector(opts.attribute);\n        let els = node.querySelectorAll(selector);\n        let rootlevelEls = node.querySelectorAll(this._attributeSelector(opts.root));\n\n        els = this._filterElementsContainedByRoot(els, rootlevelEls);\n        for (let e = 0; e < els.length; e++) {\n            const eventtypes = els[e].getAttribute(opts.attribute).split(',');\n            for (let c = 0; c < eventtypes.length; c++) {\n                els[e].addEventListener(eventtypes[c], e => { callback.apply(scope, [e]) });\n            }\n        }\n    }\n\n    static wireElements(els, events, callback, scope) {\n        if (!Array.isArray(els)) {\n            els =  [els];\n        }\n        let eventtypes = events;\n        if (!Array.isArray(events)) {\n            eventtypes = eventtypes.split(',');\n        }\n        for (let d = 0; d < els.length; d++) {\n            for (let c = 0; c < eventtypes.length; c++) {\n                els[d].addEventListener(eventtypes[c].trim(), e => { callback.apply(scope, [e]) });\n            }\n        }\n    }\n\n    /**\n     * ensure deep or shallow path exists on object\n     * @param obj\n     * @param propslist\n     * @return deep reference\n     */\n    static _ensurePropertyPath(obj, propslist) {\n        propslist = propslist.reverse();\n        let parent;\n        let parentProp;\n        while (propslist.length > 0) {\n            const prop = propslist.pop();\n            if (!obj[prop]) {\n                obj[prop] = {};\n            }\n            parent = obj;\n            obj = obj[prop];\n            parentProp = prop;\n        }\n        return { current: obj, parent: parent, parentProp: parentProp };\n    }\n\n    /**\n     * set property on object\n     * @param obj\n     * @param prop\n     * @param val\n     * @private\n     */\n    static _setProperty(obj, prop, val) {\n        let ref = obj.current;\n        let parent = obj.parent;\n        let parentProp = obj.parentProp;\n        if (!ref[prop]) {\n            // element already set on prop, but we're adding more key/values to it as an object\n            // roll back to parent and set object that can hold all\n            if (ref instanceof Element) {\n                parent[parentProp] = {};\n                parent[parentProp][parentProp] = ref;\n                parent[parentProp][prop] = val;\n            } else {\n                ref[prop] = val;\n            }\n        } else if (ref[prop] instanceof Element) {\n            // element already exists on key, turn into array holding list\n            ref[prop] = [ ref[prop] ];\n            ref[prop].push(val);\n        } else if (Array.isArray(ref[prop])) {\n            ref[prop].push(val);\n        } else if (Object.keys(ref[prop]).length > 0) {\n            // key being set is already an object containing keys, bump this key further down the chain\n            ref[prop][prop] = val;\n        }\n    }\n\n    /**\n     * remove elements contained by marked roots\n     * @param els\n     * @param roots\n     * @returns {Array}\n     */\n    static _filterElementsContainedByRoot(els, roots) {\n        const nondeepEls = [];\n        for (let e = 0; e < els.length; e++) {\n            let elIsContainedByRoot = false;\n            for (let d = 0; d < roots.length; d++) {\n                if (roots[d] !== els[e] && roots[d].contains(els[e])) {\n                    elIsContainedByRoot = true;\n                }\n            }\n            if (!elIsContainedByRoot) {\n                nondeepEls.push(els[e]);\n            }\n        }\n        return nondeepEls;\n    }\n}\n","export default class CastingRules {\n    static defaultRule(value) {\n        if (value === 'true') { return true; }\n        if (value === 'false') { return false; }\n        if (typeof value === 'boolean') { return value; }\n        if (!isNaN(Number(value))) { return Number(value); }\n        return value;\n    }\n\n    constructor() {\n        this._rules = new Map();\n        this._rules.set('*', [ CastingRules.defaultRule ]);\n\n    }\n\n    addRule(key, rule) {\n        if (key === '*') {\n            this._rules.get(key).push(rule);\n        } else if (Array.isArray(key)) {\n            for (let c = 0; c < key.length; c++) {\n                this.addRule(key[c], rule );\n            }\n        } else {\n            this._rules.set(key, rule);\n        }\n    }\n\n    cast(key, value) {\n        let val = value;\n        const genericRules = this._rules.get('*');\n        for (let c = 0; c < genericRules.length; c++) {\n            val = genericRules[c](val);\n        }\n\n        if (this._rules.has(key)) {\n            return this._rules.get(key)(val);\n        } else {\n            return val;\n        }\n    }\n\n}","import AbstractObservable from './abstractobservable.js';\nimport Binding from '../bind.js';\nimport Convert from '../convert.js';\nimport DotPath from '../dotpath.js';\n\nexport default class ObservableElement extends AbstractObservable {\n    /**\n     * constructor\n     * @param {HTMLElement} el element to watch\n     * @param {Function} cb callback\n     * @param opts\n     */\n    constructor(el, cb, opts) {\n        super(el, cb, opts);\n\n        if (!opts) { opts = {}; }\n        this.observer = new MutationObserver(e => this.onMutationChange(e));\n        this.observer.observe(el, { attributes: true, attributeOldValue: true, subtree: opts.watchSubtree });\n\n        this.element = el;\n        this.name = el.tagName;\n\n        this._bindKey = opts.bindAttribute ? opts.bindAttribute : 'bind';\n        this._watchSubtree = opts.watchSubtree ? opts.watchSubtree : false;\n        this._rawdata = this._elementsToObject();\n        this._createProxy();\n    }\n\n    /**\n     * create object from local DOM tree\n     * @private\n     */\n    _elementsToObject() {\n        const assign = (el, data) => {\n            let dotpath = '';\n            if (el.hasAttribute(this._bindKey)) {\n                dotpath = el.getAttribute(this._bindKey);\n            }\n\n            let opts = {};\n            if (this._keys && this._keys.length > 0) {\n                opts.allow = this._keys;\n            } else {\n                opts.ignore = this._bindKey;\n            }\n            const obj = Convert.fromAttrs(el, opts);\n\n            const level = DotPath.resolvePath(dotpath, data, { alwaysReturnObject: true, lastSegmentIsObject: true });\n            Object.assign(level, obj);\n        };\n\n        let data = {};\n\n        if (this.element instanceof HTMLElement) { // could be a doc fragment\n            assign(this.element, data);\n        }\n        let els = this.element.querySelectorAll('[' + this._bindKey + ']');\n        for (let c = 0; c < els.length; c++) {\n            assign(els[c], data);\n        }\n\n        return data;\n    }\n\n    _setRawValue(target, key, value) {\n        super._setRawValue(target, key, value);\n\n        if (this._watchSubtree) {\n            const dotpath = DotPath.toPath(this._rawdata, target);\n            const els = this.element.querySelectorAll(`[${this._bindKey}=\"${dotpath}\"]`);\n            for (let c = 0; c < els.length; c++) {\n                els[c].setAttribute(key, value);\n            }\n\n            if (this.element instanceof HTMLElement) { // could be a doc fragment\n                // since root level el isn't in the querySelector, see if we should update\n                if (this.element.getAttribute(this._bindKey) === dotpath) {\n                    this.element.setAttribute(key, value);\n                }\n            }\n        } else if (this.element instanceof HTMLElement) { // could be a doc fragment\n            this.element.setAttribute(key, value);\n        }\n    }\n\n    /**\n     * stop observation\n     */\n    stop() {\n        super.stop();\n        this.observer.disconnect();\n    }\n\n    /**\n     * mutation change handler\n     * @param e\n     */\n    onMutationChange(e) {\n        for (let c = 0; c < e.length; c++) {\n            if (this._keyAllowed(e[c].attributeName, e[c].target.attributes)) {\n                let dotpath = '';\n                if (e[c].target.hasAttribute(this._bindKey)) {\n                    dotpath = e[c].target.getAttribute(this._bindKey);\n                }\n                dotpath = DotPath.appendKeyToPath(dotpath, e[c].attributeName);\n\n                const target = DotPath.resolvePath(dotpath, this._rawdata, { alwaysReturnObject: true });\n                super._setRawValue(target, e[c].attributeName, e[c].target.getAttribute(e[c].attributeName));\n                this.dispatchChange(\n                    e[c].attributeName,\n                    e[c].target.getAttribute(e[c].attributeName), {\n                        keyPath: dotpath,\n                        key: e[c].attributeName,\n                        value: e[c].target.getAttribute(e[c].attributeName),\n                        oldValue: e[c].oldValue,\n                        originChain: [this],\n                        target: e[c].target,\n                        scope: this._rawdata });\n            }\n        }\n    }\n}\n","import AbstractObservable from \"./abstractobservable.js\";\nimport Binding from '../bind.js';\n\nexport default class ObservableObject extends AbstractObservable {\n    /**\n     * constructor\n     * @param {Object} object to watch\n     * @param {Function} cb callback\n     * @param opts\n     */\n    constructor(obj, cb, opts) {\n        super(obj, cb, opts);\n        if (opts && opts.name) { this._name = opts.name; }\n        this._rawdata = obj;\n        this._createProxy();\n    }\n\n    /**\n     * stop observation\n     */\n    stop() {\n        this._observing = false;\n    }\n}\n","import Binding from './bind.js';\nimport CastingRules from './castingrules.js';\n\nexport default class CustomElementBindingManager {\n    constructor() {\n        this._observables = {};\n        this._binding = new Binding();\n        this._rules = new CastingRules();\n        this._name = ['CustomElementBindingManager'];\n    }\n\n    get binding() {\n        return this._binding;\n    }\n\n    get castingRules() {\n        return this._rules;\n    }\n\n    get name() {\n        return this._name.join('*');\n    }\n\n    addRule(key, rule) {\n        this._rules.addRule(key, rule);\n    }\n\n    addCallback(cb, name) {\n        if (!name) {\n            this.binding.addCallback((name, value, details) => {\n                if (!details.originChain) {\n                    details.originChain = [];\n                }\n                details.originChain.push(this);\n                cb(name, this._rules.cast(name, value), details);\n            });\n        } else {\n            this.binding.addCallback((name, value, details) => {\n                if (!details.originChain) {\n                    details.originChain = [];\n                }\n                details.originChain.push(this);\n                cb(name, this._rules.cast(name, value), details);\n            }, name);\n        }\n    }\n\n    add(observable, bindingdirection, name) {\n        if (!name) {\n            name = observable.constructor.name;\n        }\n        this._observables[name] = observable;\n        this._binding.add(observable, bindingdirection);\n        this._name.push(observable.name);\n        return this._binding;\n    }\n\n    sync(observable, bindingdirection, name) {\n        if (!name) {\n            name = observable.constructor.name;\n        }\n        this._observables[name] = observable;\n        this._binding.sync(observable, bindingdirection);\n        this._name.push(observable.name);\n        return this._binding;\n    }\n\n    getObservable(name) {\n        return this._observables[name];\n    }\n}\n","import AbstractObservable from './abstractobservable.js';\nimport CustomElementBindingManager from '../customelementbindingmanager.js';\nimport Binding from '../bind.js';\nimport Convert from '../convert.js';\nimport DotPath from \"../dotpath.js\";\n\nexport default class ObservableCustomElement extends AbstractObservable {\n    /**\n     * attach class to web component as a mixin\n     * @param clazz\n     * @returns {*}\n     */\n    static attach(clazz) {\n        clazz.prototype.attributeChangedCallback = function (name, oldValue, newValue) {\n            if (this.__attrocity) {\n                let originchain = [];\n                if (this.__attrocity.originChainContinuity) {\n                    originchain = this.__attrocity.originChainContinuity;\n                }\n\n                this.__attrocity.originChainContinuity = [];\n                if (!this.__attrocity.getObservable('customelement')._observing ) { return; }\n                const ce = this.__attrocity.getObservable('customelement');\n                ce.dispatchChange(name, newValue, {\n                    keyPath: name,\n                    key: name,\n                    value: newValue,\n                    oldValue: oldValue,\n                    target: this.__attrocity.getObservable('customelement').element,\n                    originChain: originchain,\n                    scope: ce });\n            }\n        };\n        return clazz;\n    }\n\n    /**\n     * create bindings on instance\n     * @param scope\n     * @param opts\n     * @returns {CustomElementBindingManager}\n     */\n    static createBindings(scope, opts) {\n        scope.__attrocity = new CustomElementBindingManager();\n        scope.__attrocity.sync(new ObservableCustomElement(scope,\n            (name, val, details) => { scope.__attrocity.originChainContinuity = details.originchain },\n            scope.constructor.observedAttributes),\n            Binding.TWOWAY, 'customelement');\n        return scope.__attrocity;\n    }\n\n\n    /**\n     * constructor\n     * @param {HTMLElement} el element to watch\n     * @param {Function} cb callback\n     */\n    constructor(el, cb) {\n        super(el, cb, el.constructor.observedAttributes);\n\n        this.element = el;\n        this._rawdata = el;\n        this.name = el.tagName;\n\n        const scope = this;\n        this._rawdata = this._elementsToObject();\n        this._createProxy();\n\n    }\n\n    /**\n     * create object from local DOM tree\n     * @private\n     */\n    _elementsToObject() {\n        let data = {};\n        Object.assign(data, Convert.fromAttrs(this.element));\n        return data;\n    }\n\n    _setRawValue(target, key, value) {\n        super._setRawValue(target, key, value);\n        this.element.setAttribute(key, value);\n    }\n}\n","import Convert from './convert.js';\nimport DotPath from './dotpath.js';\nimport Bind from './bind.js';\nimport MapDOM from './mapdom.js';\nimport CastingRules from './castingrules.js';\nimport ObservableElement from './observables/element.js';\nimport ObservableObject from './observables/object.js';\nimport ObservableCustomElement from './observables/customelement.js';\n\nexport default class Main {\n    /**\n     * Bind\n     * @returns {Convert}\n     * @constructor\n     */\n    static get Bind() { return Bind; }\n\n    /**\n     * Convert\n     * @returns {Convert}\n     * @constructor\n     */\n    static get Convert() { return Convert; }\n\n    /**\n     * Convert\n     * @returns {Convert}\n     * @constructor\n     */\n    static get DotPath() { return DotPath; }\n\n    /**\n     * MapDOM\n     * @returns {MapDOM}\n     * @constructor\n     */\n    static get MapDOM() { return MapDOM; }\n\n    /**\n     * Casting\n     * @returns {CastingRules}\n     * @constructor\n     */\n    static get CastingRules() { return CastingRules; }\n\n    /**\n     * Observables\n     * @returns {{Element: ObservableElement, Object: ObservableObject}}\n     * @constructor\n     */\n    static get Observables() {\n        return {\n            Element: ObservableElement,\n            CustomElement: ObservableCustomElement,\n            Object: ObservableObject\n        }\n    }\n}\n"],"names":["Bind"],"mappings":"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"}